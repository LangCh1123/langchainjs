---
sidebar_label: Anthropic
---

# ChatAnthropic

LangChain supports Anthropic's Claude family of chat models.

You'll first need to install the [`@langchain/anthropic`](https://www.npmjs.com/package/@langchain/anthropic) package:

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/anthropic
```

You'll also need to sign up and obtain an [Anthropic API key](https://www.anthropic.com/).
Set it as an environment variable named `ANTHROPIC_API_KEY`, or pass it into the constructor as shown below.

## Usage

You can initialize an instance like this:

import CodeBlock from "@theme/CodeBlock";
import Anthropic from "@examples/models/chat/integration_anthropic.ts";

<CodeBlock language="typescript">{Anthropic}</CodeBlock>

## `.withStructuredOutput({ ... })`

:::info
The `.withStructuredOutput` method is in beta. It is actively being worked on, so the API may change.
:::

Using the `.withStructuredOutput` method, you can make the LLM return structured output, given only a Zod or JSON schema:

import WSAExample from "@examples/models/chat/integration_anthropic_wsa.ts";

<CodeBlock language="typescript">{WSAExample}</CodeBlock>

### Using JSON schema:

import WSAJSONExample from "@examples/models/chat/integration_anthropic_wsa_json.ts";

<CodeBlock language="typescript">{WSAJSONExample}</CodeBlock>

## Custom headers

You can pass custom headers in your requests like this:

import AnthropicCustomHeaders from "@examples/models/chat/integration_anthropic_custom_headers.ts";

<CodeBlock language="typescript">{AnthropicCustomHeaders}</CodeBlock>
