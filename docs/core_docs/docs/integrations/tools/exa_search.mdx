---
hide_table_of_contents: true
---

import CodeBlock from "@theme/CodeBlock";

# Exa Search

Exa (formerly Metaphor Search) is a search engine fully designed for use by LLMs. Search for documents on the internet using natural language queries, then retrieve cleaned HTML content from desired documents.

Unlike keyword-based search (Google), Exa's neural search capabilities allow it to semantically understand queries and return relevant documents.
For example, we could search `"fascinating article about cats"` and compare the search results from Google and Exa.
Google gives us SEO-optimized listicles based on the keyword “fascinating”. Exa just works.

This notebook goes over how to use Exa Search with LangChain.

First, get an Exa API key and add it as an environment variable.
Get 1000 free searches/month by [signing up here.](https://dashboard.exa.ai/login)

## Usage

First, install the LangChain integration package for Exa:

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/exa @langchain/openai langchain
```

You'll need to set your API key as an environment variable.

The `Exa` class defaults to `EXASEARCH_API_KEY` when searching for your API key.

## Usage

import ToolExample from "@examples/tools/exa_search.ts";

<CodeBlock language="typescript">{ToolExample}</CodeBlock>

:::tip
You can see a LangSmith trace for this example [here](https://smith.langchain.com/public/775ea9a8-d54c-405c-9126-a012405d9099/r).
:::

## Using the Exa SDK as LangChain Agent Tools

We can create LangChain tools which use the Exa SDK to perform queries and retrieve content.
Using these tools we can construct a simple search agent that can answer questions about any topic.

import AgentExample from "@examples/tools/exa_agent.ts";

<CodeBlock language="typescript">{AgentExample}</CodeBlock>

```
{
  input: 'Summarize for me a fascinating article about cats.',
  output: `The article titled "What the love of cats taught me about myself" by Annalisa Barbieri, published on The Guardian, discusses\n` +
    '\n' +
    'the author's journey of becoming a cat lover. Initially, the author was not keen on having cats. However, over time, as the requests\n` +
    '\n' +
    'for a cat in the household became more frequent and the list of reasons to get a cat grew longer, the author began to consider the\n` +
    '\n' +
    'idea. The author started watching videos about kittens, which are described as cute, and this seems to have played a role in changing\n` +
    '\n' +
    'her perspective towards cats.\n` +
    '\n' +
    'Source: [The Guardian](https://www.theguardian.com/lifeandstyle/2023/jan/08/what-the-love-of-cats-taught-me-about-myself)'
}
```

:::tip
You can see a LangSmith trace for this example [here](https://smith.langchain.com/public/65963d51-9bcb-4d1e-91ae-3fb51410ad72/r).
:::
